---
name: Recent Activity Summary
on:  # yamllint disable-line rule:truthy
  workflow_dispatch:  # Allow manual triggering
    inputs:
      version:
        description: 'The version of the action to run'
        required: true
        default: 'v0.0.5-debug'
      extra-commands:
        description: 'Extra commands to run before the main action'
        required: false
        default: ''

jobs:
  prs:
    runs-on: ubuntu-latest
    steps:
      - name: Show inputs
        run: echo "${{ toJSON(github.event.inputs) }}"
      - name: Generate and Post Repository Summary
        uses: akaihola/repo-summary-post@v0.0.5-debug
        with:
          github-token: '${{ secrets.GITHUB_TOKEN }}'
          repo-name: '${{ github.repository }}'
          project-name: 'Darker'
          extra-packages: 'llm-openrouter'
          # Optional inputs for debugging purposes:
          verbose: '2'
          dry-run: 'true'
          output-content: '-'
          extra-commands: '${{ inputs.extra-commands }}'
        env:
          OPENROUTER_KEY: '${{ secrets.OPENROUTER_KEY }}'
